---
layout: post
status: publish
published: true
title: Installing the Wireshark network analyser on Ubuntu 10.04
author:
  display_name: henare
  login: henare
  email: henare.degan@gmail.com
  url: http://www.henaredegan.com/
author_login: henare
author_url: http://www.henaredegan.com/
wordpress_id: 288
wordpress_url: http://www.henaredegan.com/blog/?p=288
date: '2010-06-24 11:56:42 +1000'
date_gmt: '2010-06-24 01:56:42 +1000'
categories:
- Geekery
tags:
- linux
- howto
- ubuntu
- wireshark
- packet sniffing
- network
comments: []
---
<p><a href="http://www.wireshark.org/">Wireshark</a> is a network protocol analyser, or packet sniffer, available for Ubuntu 10.04 via a simple <tt>sudo apt-get install wireshark</tt>. However to use it correctly, we need to change some permissions to ensure we're not running the whole application as root.</p>
<p>The following commands will let the <tt>adm</tt> group run Wireshark without elevated privileges - the <tt>adm</tt> group is the group that allows you to read log files, etc., I always add myself to it anyway.</p>
<p><code lang="bash"><br />
$ sudo chgrp adm /usr/bin/dumpcap<br />
$ sudo chmod 750 /usr/bin/dumpcap<br />
$ ls -alF /usr/bin/dumpcap<br />
-rwxr-x--- 1 root adm 63520 2010-04-13 01:17 /usr/bin/dumpcap*<br />
$ sudo setcap cap_net_raw,cap_net_admin=eip /usr/bin/dumpcap<br />
$ getcap /usr/bin/dumpcap<br />
/usr/bin/dumpcap = cap_net_admin,cap_net_raw+eip<br />
$<br />
</code></p>
<p>That's all pretty self explanatory - the <tt>setcap</tt> command allows that binary to use special capabilities, namely to control NICs (to set promiscuous mode for Wireshark) and capture raw traffic from NICs.</p>
